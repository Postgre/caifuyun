package com.zepan.android.widget;import android.app.Dialog;import android.content.Context;import android.graphics.drawable.ColorDrawable;import android.view.Gravity;import android.view.View;import android.view.ViewGroup;import android.view.Window;import android.widget.TextView;import com.zepan.android.sdk.R;/** * 性别选择控件 * */public class GenderSheetDialog extends Dialog {	private GenderSheetDialog(Context context) {		super(context);		// 去掉标题		this.requestWindowFeature(Window.FEATURE_NO_TITLE);		setContentView(R.layout.dialog_gender_sheet);		// 事件		findViewById(R.id.tv_cancel).setOnClickListener(				new View.OnClickListener() {					@Override					public void onClick(View v) {						dismiss();					}				});		findViewById(R.id.tv_female).setOnClickListener(				new View.OnClickListener() {					@Override					public void onClick(View v) {						dismiss();						TextView view = (TextView) v;						onChangeListener								.afterChanged(view.getText().toString());					}				});		findViewById(R.id.tv_male).setOnClickListener(				new View.OnClickListener() {					@Override					public void onClick(View v) {						dismiss();						TextView view = (TextView) v;						onChangeListener								.afterChanged(view.getText().toString());					}				});	}	/** 单例模式，返回dialog实例 */	private static GenderSheetDialog dialog;	public static GenderSheetDialog newInstance(Context context) {		if (dialog == null) {			dialog = new GenderSheetDialog(context);			// 设置全屏			dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT,					ViewGroup.LayoutParams.WRAP_CONTENT);			dialog.getWindow().setBackgroundDrawable(new ColorDrawable(android.R.color.transparent));			// 设置位置			dialog.getWindow().setGravity(Gravity.BOTTOM);		}		return dialog;	}	private OnValueChangedListener onChangeListener = null;	public void setOnChangeListener(OnValueChangedListener onChangeListener) {		this.onChangeListener = onChangeListener;	}	/** 回调接口 */	public interface OnValueChangedListener {		/**		 * @param value		 *            选择的值		 * */		public void afterChanged(String value);	}}