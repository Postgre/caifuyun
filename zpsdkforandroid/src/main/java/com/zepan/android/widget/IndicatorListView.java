package com.zepan.android.widget;import com.zepan.android.sdk.R;import com.zepan.android.sdk.R.layout;import com.zepan.android.sdk.R.styleable;import android.content.Context;import android.content.res.TypedArray;import android.provider.ContactsContract.Contacts.Data;import android.util.AttributeSet;import android.view.View.MeasureSpec;import android.widget.ArrayAdapter;import android.widget.ListView;public class IndicatorListView extends ListView {	private Adapter adapter = null;	/**数据源*/	private String[] srcData = null;	public IndicatorListView(Context context, AttributeSet attrs) {		super(context, attrs);		// 读取XML中的配置信息		TypedArray a = context.obtainStyledAttributes(attrs,				R.styleable.IndicatorListView);		int valueArrayResId = a.getResourceId(				R.styleable.IndicatorListView_itemValues, 0);		srcData = getResources().getStringArray(				valueArrayResId);		adapter = new Adapter(context, R.layout.listview_item_indicator,				android.R.id.text1, srcData);//		setDivider(null);		setAdapter(adapter);	}	/**	 * 设置某个位置的值	 * @param position 位置	 * @param value 值	 * */	public void setItem(int position, String value){		if(position < this.srcData.length && position >= 0){			this.srcData[position] = value;			this.adapter.notifyDataSetChanged();		}	}		/** Adapter */	private class Adapter extends ArrayAdapter<String> {		public Adapter(Context context, int resource, int textViewResourceId,				String[] objects) {			super(context, resource, textViewResourceId, objects);		}	}	@Override       public void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {              int expandSpec = MeasureSpec.makeMeasureSpec(Integer.MAX_VALUE >> 2,                   MeasureSpec.AT_MOST);           super.onMeasure(widthMeasureSpec, expandSpec);       }   }