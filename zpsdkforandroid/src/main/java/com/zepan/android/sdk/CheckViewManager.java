package com.zepan.android.sdk;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;import org.json.JSONObject;import android.text.Editable;import android.text.TextWatcher;import android.widget.TextView;/** * 用于筛选出多个输入框情况下，哪些输入框内容改变了 * */public class CheckViewManager {	private List<TextView> viewList = new ArrayList<TextView>(); 	private Map<String, String> initValueMap = new HashMap<String, String>();		public CheckViewManager(){			} 		public void addView(final TextView view){		if(!viewList.contains(view)){			viewList.add(view);		}		initValueMap.put(view.getTag().toString(), view.getText().toString());		view.addTextChangedListener(new TextWatcher() {						@Override			public void onTextChanged(CharSequence s, int start, int before, int count) {				String value = initValueMap.get(view.getTag());				view.setSelected(!value.equals(s.toString()));			}						@Override			public void beforeTextChanged(CharSequence s, int start, int count,					int after) {							}						@Override			public void afterTextChanged(Editable s) {							}		});	}		public void init(List<TextView> viewList, JSONObject json){		try{			for(TextView view : viewList){				String tagValue = view.getTag().toString();				if(tagValue == null){					continue;				}				if(json.has(tagValue)){					view.setText(json.getString(tagValue));				}			}		}catch(Exception e){			e.printStackTrace();		}	}		public JSONObject getSubmitJson(){		try{			JSONObject json = new JSONObject();			for(TextView view : viewList){				if(view.isSelected()){					json.put(view.getTag().toString(), view.getText().toString());				}			}			return json;		}catch(Exception e){			e.printStackTrace();		}		return null;	}}